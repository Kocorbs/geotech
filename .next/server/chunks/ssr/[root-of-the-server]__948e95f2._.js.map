{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn(\"px-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/components/mode-toggle.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Moon, Sun } from \"lucide-react\";\r\nimport { useTheme } from \"next-themes\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\n\r\nexport function ModeToggle() {\r\n  const { setTheme } = useTheme();\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"ghost\" size=\"icon\">\r\n          <Sun className=\"h-[1.2rem] w-[1.2rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90\" />\r\n          <Moon className=\"absolute h-[1.2rem] w-[1.2rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0\" />\r\n          <span className=\"sr-only\">Toggle theme</span>\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\" className=\"z-[2000]\">\r\n        <DropdownMenuItem onClick={() => setTheme(\"light\")}>\r\n          Light\r\n        </DropdownMenuItem>\r\n        <DropdownMenuItem onClick={() => setTheme(\"dark\")}>\r\n          Dark\r\n        </DropdownMenuItem>\r\n        <DropdownMenuItem onClick={() => setTheme(\"system\")}>\r\n          System\r\n        </DropdownMenuItem>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAEA;AACA;AAPA;;;;;;AAcO,SAAS;IACd,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,4JAAQ;IAE7B,qBACE,8OAAC,qJAAY;;0BACX,8OAAC,4JAAmB;gBAAC,OAAO;0BAC1B,cAAA,8OAAC,qIAAM;oBAAC,SAAQ;oBAAQ,MAAK;;sCAC3B,8OAAC,uMAAG;4BAAC,WAAU;;;;;;sCACf,8OAAC,0MAAI;4BAAC,WAAU;;;;;;sCAChB,8OAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAG9B,8OAAC,4JAAmB;gBAAC,OAAM;gBAAM,WAAU;;kCACzC,8OAAC,yJAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAU;;;;;;kCAGpD,8OAAC,yJAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAS;;;;;;kCAGnD,8OAAC,yJAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAW;;;;;;;;;;;;;;;;;;AAM7D","debugId":null}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/components/notifications-dropdown.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Bell, AlertTriangle, Info, CheckCircle2, X } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuItem,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useNotifications } from \"@/providers/NotoficationsProvider\";\r\n\r\nexport function NotificationsDropdown() {\r\n  const { notifications, markAsRead, clearNotifications, unreadCount } =\r\n    useNotifications();\r\n\r\n  const getIcon = (type?: string) => {\r\n    switch (type) {\r\n      case \"danger\":\r\n        return <AlertTriangle className=\"w-4 h-4 text-red-500\" />;\r\n      case \"warning\":\r\n        return <AlertTriangle className=\"w-4 h-4 text-yellow-500\" />;\r\n      case \"info\":\r\n      default:\r\n        return <Info className=\"w-4 h-4 text-blue-500\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n          <Bell className=\"w-5 h-5\" />\r\n          {unreadCount > 0 && (\r\n            <span className=\"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full px-1.5\">\r\n              {unreadCount}\r\n            </span>\r\n          )}\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n\r\n      <DropdownMenuContent\r\n        align=\"end\"\r\n        className=\"w-80 max-h-96 overflow-auto shadow-lg\"\r\n      >\r\n        <DropdownMenuLabel className=\"flex items-center justify-between\">\r\n          Notifications\r\n          {notifications.length > 0 && (\r\n            <Button\r\n              size=\"sm\"\r\n              variant=\"ghost\"\r\n              className=\"text-xs text-muted-foreground hover:text-foreground\"\r\n              onClick={clearNotifications}\r\n            >\r\n              Clear all\r\n            </Button>\r\n          )}\r\n        </DropdownMenuLabel>\r\n\r\n        <DropdownMenuSeparator />\r\n\r\n        {notifications.length === 0 && (\r\n          <div className=\"p-4 text-center text-sm text-muted-foreground\">\r\n            No notifications\r\n          </div>\r\n        )}\r\n\r\n        {notifications.map((notif) => (\r\n          <DropdownMenuItem\r\n            key={notif.id}\r\n            className={cn(\r\n              \"flex items-start gap-3 py-3\",\r\n              !notif.read && \"bg-muted/40\"\r\n            )}\r\n            onClick={() => markAsRead(notif.id)}\r\n          >\r\n            <div>{getIcon(notif.type)}</div>\r\n            <div className=\"flex-1\">\r\n              <p className=\"font-medium text-sm\">{notif.title}</p>\r\n              <p className=\"text-xs text-muted-foreground\">{notif.message}</p>\r\n              <p className=\"text-[10px] text-muted-foreground mt-1\">\r\n                {notif.timestamp.toLocaleTimeString([], {\r\n                  hour: \"2-digit\",\r\n                  minute: \"2-digit\",\r\n                })}\r\n              </p>\r\n            </div>\r\n          </DropdownMenuItem>\r\n        ))}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AACA;AACA;AAQA;AACA;AAbA;;;;;;;AAeO,SAAS;IACd,MAAM,EAAE,aAAa,EAAE,UAAU,EAAE,kBAAkB,EAAE,WAAW,EAAE,GAClE,IAAA,uJAAgB;IAElB,MAAM,UAAU,CAAC;QACf,OAAQ;YACN,KAAK;gBACH,qBAAO,8OAAC,yOAAa;oBAAC,WAAU;;;;;;YAClC,KAAK;gBACH,qBAAO,8OAAC,yOAAa;oBAAC,WAAU;;;;;;YAClC,KAAK;YACL;gBACE,qBAAO,8OAAC,0MAAI;oBAAC,WAAU;;;;;;QAC3B;IACF;IAEA,qBACE,8OAAC,qJAAY;;0BACX,8OAAC,4JAAmB;gBAAC,OAAO;0BAC1B,cAAA,8OAAC,qIAAM;oBAAC,SAAQ;oBAAQ,MAAK;oBAAO,WAAU;;sCAC5C,8OAAC,0MAAI;4BAAC,WAAU;;;;;;wBACf,cAAc,mBACb,8OAAC;4BAAK,WAAU;sCACb;;;;;;;;;;;;;;;;;0BAMT,8OAAC,4JAAmB;gBAClB,OAAM;gBACN,WAAU;;kCAEV,8OAAC,0JAAiB;wBAAC,WAAU;;4BAAoC;4BAE9D,cAAc,MAAM,GAAG,mBACtB,8OAAC,qIAAM;gCACL,MAAK;gCACL,SAAQ;gCACR,WAAU;gCACV,SAAS;0CACV;;;;;;;;;;;;kCAML,8OAAC,8JAAqB;;;;;oBAErB,cAAc,MAAM,KAAK,mBACxB,8OAAC;wBAAI,WAAU;kCAAgD;;;;;;oBAKhE,cAAc,GAAG,CAAC,CAAC,sBAClB,8OAAC,yJAAgB;4BAEf,WAAW,IAAA,kHAAE,EACX,+BACA,CAAC,MAAM,IAAI,IAAI;4BAEjB,SAAS,IAAM,WAAW,MAAM,EAAE;;8CAElC,8OAAC;8CAAK,QAAQ,MAAM,IAAI;;;;;;8CACxB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAuB,MAAM,KAAK;;;;;;sDAC/C,8OAAC;4CAAE,WAAU;sDAAiC,MAAM,OAAO;;;;;;sDAC3D,8OAAC;4CAAE,WAAU;sDACV,MAAM,SAAS,CAAC,kBAAkB,CAAC,EAAE,EAAE;gDACtC,MAAM;gDACN,QAAQ;4CACV;;;;;;;;;;;;;2BAfC,MAAM,EAAE;;;;;;;;;;;;;;;;;AAuBzB","debugId":null}},
    {"offset": {"line": 403, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/components/site-header.tsx"],"sourcesContent":["import { Separator } from \"@/components/ui/separator\";\r\nimport { SidebarTrigger } from \"@/components/ui/sidebar\";\r\nimport { ModeToggle } from \"./mode-toggle\";\r\nimport { NotificationsDropdown } from \"./notifications-dropdown\";\r\n\r\nexport function SiteHeader({ title }: { title: string }) {\r\n  return (\r\n    <header className=\"z-50 sticky top-0 left-0 bg-background/20 backdrop-blur-lg flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)\">\r\n      <div className=\"flex w-full items-center gap-1 px-4 lg:gap-2 lg:px-6\">\r\n        <SidebarTrigger className=\"-ml-1\" />\r\n        <Separator\r\n          orientation=\"vertical\"\r\n          className=\"mx-2 data-[orientation=vertical]:h-4\"\r\n        />\r\n        <h1 className=\"text-base font-medium\">{title}</h1>\r\n      </div>\r\n      <div className=\"px-6 flex items-center gap-2 ml-auto\">\r\n        <NotificationsDropdown />\r\n        <ModeToggle />\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEO,SAAS,WAAW,EAAE,KAAK,EAAqB;IACrD,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,8IAAc;wBAAC,WAAU;;;;;;kCAC1B,8OAAC,2IAAS;wBACR,aAAY;wBACZ,WAAU;;;;;;kCAEZ,8OAAC;wBAAG,WAAU;kCAAyB;;;;;;;;;;;;0BAEzC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,iKAAqB;;;;;kCACtB,8OAAC,2IAAU;;;;;;;;;;;;;;;;;AAInB","debugId":null}},
    {"offset": {"line": 561, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/lib/weather.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://api.openweathermap.org/data/2.5\";\r\n\r\n// ‚úÖ Current weather\r\nexport async function getWeatherByCoords(lat: number, lon: number) {\r\n  return axios\r\n    .get(`${BASE_URL}/weather`, {\r\n      params: {\r\n        lat,\r\n        lon,\r\n        appid: process.env.NEXT_PUBLIC_OPENWEATHER_KEY,\r\n        units: \"metric\",\r\n      },\r\n    })\r\n    .then((res) => res.data);\r\n}\r\n\r\n// ‚úÖ 5-day forecast\r\nexport async function getForecastByCoords(lat: number, lon: number) {\r\n  return axios\r\n    .get(`${BASE_URL}/forecast`, {\r\n      params: {\r\n        lat,\r\n        lon,\r\n        appid: process.env.NEXT_PUBLIC_OPENWEATHER_KEY,\r\n        units: \"metric\",\r\n      },\r\n    })\r\n    .then((res) => res.data);\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,WAAW;AAGV,eAAe,mBAAmB,GAAW,EAAE,GAAW;IAC/D,OAAO,gJAAK,CACT,GAAG,CAAC,GAAG,SAAS,QAAQ,CAAC,EAAE;QAC1B,QAAQ;YACN;YACA;YACA,KAAK;YACL,OAAO;QACT;IACF,GACC,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;AAC3B;AAGO,eAAe,oBAAoB,GAAW,EAAE,GAAW;IAChE,OAAO,gJAAK,CACT,GAAG,CAAC,GAAG,SAAS,SAAS,CAAC,EAAE;QAC3B,QAAQ;YACN;YACA;YACA,KAAK;YACL,OAAO;QACT;IACF,GACC,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;AAC3B","debugId":null}},
    {"offset": {"line": 594, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/actions/locations.action.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport prisma from \"@/lib/prisma\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { point } from \"@turf/helpers\";\r\nimport booleanPointInPolygon from \"@turf/boolean-point-in-polygon\";\r\n\r\nexport async function createLocation(data: FormData) {\r\n  try {\r\n    // Create new user location\r\n    const location = await prisma.userLocation.create({\r\n      data: {\r\n        name: data.get(\"name\") as string,\r\n        description: data.get(\"description\") as string,\r\n        latitude: parseFloat(data.get(\"latitude\") as string),\r\n        longitude: parseFloat(data.get(\"longitude\") as string),\r\n        userId: parseInt(data.get(\"userId\") as string, 10),\r\n      },\r\n    });\r\n\r\n    // ‚úÖ Find all ACTIVE zones\r\n    const activeZones = await prisma.zone.findMany({\r\n      where: { status: \"ACTIVE\" },\r\n      select: { id: true, geoJson: true },\r\n    });\r\n\r\n    const locPoint = point([location.longitude, location.latitude]);\r\n    const affectedZones: { zoneId: number; userLocationId: number }[] = [];\r\n\r\n    // ‚úÖ Check if the location falls inside any active zone\r\n    activeZones.forEach((zone) => {\r\n      if (booleanPointInPolygon(locPoint, zone.geoJson as any)) {\r\n        affectedZones.push({\r\n          zoneId: zone.id,\r\n          userLocationId: location.id,\r\n        });\r\n      }\r\n    });\r\n\r\n    // ‚úÖ If affected, record the associations\r\n    if (affectedZones.length > 0) {\r\n      await prisma.affectedUserLocation.createMany({\r\n        data: affectedZones,\r\n      });\r\n    }\r\n\r\n    return location;\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw new Error(\"Failed to create location\");\r\n  }\r\n}\r\n\r\nexport async function updateLocation(id: string, formData: FormData) {\r\n  const name = formData.get(\"name\") as string;\r\n  const description = formData.get(\"description\") as string;\r\n  const latitude = parseFloat(formData.get(\"latitude\") as string);\r\n  const longitude = parseFloat(formData.get(\"longitude\") as string);\r\n\r\n  try {\r\n    // ‚úÖ Update the user location\r\n    const location = await prisma.userLocation.update({\r\n      where: { id: parseInt(id) },\r\n      data: {\r\n        name,\r\n        description,\r\n        latitude,\r\n        longitude,\r\n      },\r\n    });\r\n\r\n    // ‚úÖ Delete old affected zone associations (in case location moved)\r\n    await prisma.affectedUserLocation.deleteMany({\r\n      where: { userLocationId: location.id },\r\n    });\r\n\r\n    // ‚úÖ Find all ACTIVE zones\r\n    const activeZones = await prisma.zone.findMany({\r\n      where: { status: \"ACTIVE\" },\r\n      select: { id: true, geoJson: true },\r\n    });\r\n\r\n    const locPoint = point([location.longitude, location.latitude]);\r\n    const affectedZones: { zoneId: number; userLocationId: number }[] = [];\r\n\r\n    // ‚úÖ Check if updated location falls inside active zones\r\n    activeZones.forEach((zone) => {\r\n      if (booleanPointInPolygon(locPoint, zone.geoJson as any)) {\r\n        affectedZones.push({\r\n          zoneId: zone.id,\r\n          userLocationId: location.id,\r\n        });\r\n      }\r\n    });\r\n\r\n    // ‚úÖ If affected, recreate associations\r\n    if (affectedZones.length > 0) {\r\n      await prisma.affectedUserLocation.createMany({\r\n        data: affectedZones,\r\n      });\r\n    }\r\n\r\n    return location;\r\n  } catch (error) {\r\n    console.error(\"Error updating location:\", error);\r\n    throw new Error(\"Failed to update location\");\r\n  }\r\n}\r\n\r\nexport async function getUserLocations(userId: number) {\r\n  try {\r\n    return await prisma.userLocation.findMany({\r\n      where: { userId },\r\n      include: {\r\n        affectedUserLocations: {\r\n          where: {\r\n            zone: {\r\n              status: \"ACTIVE\",\r\n            },\r\n          },\r\n          include: { zone: true },\r\n        },\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    throw new Error(\"Error\");\r\n  }\r\n}\r\n\r\nexport async function deleteUserLocation(locationId: number) {\r\n  try {\r\n    await prisma.userLocation.delete({ where: { id: locationId } });\r\n    revalidatePath(\"/\");\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport async function getUserLocation(locationId: number) {\r\n  try {\r\n    return await prisma.userLocation.findUnique({ where: { id: locationId } });\r\n  } catch (error) {\r\n    console.log(error);\r\n    throw new Error(\"Error\");\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IA6GsB,mBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 606, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"span\"> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : \"span\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 652, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/app/%28dashboard%29/locations/new/add-location.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { MapPin, Plus, Navigation, Sparkles } from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n// Simple floating action button version\r\nexport function AddLocationFAB() {\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <Button\r\n      onClick={() => router.push(\"/locations/new\")}\r\n      size=\"lg\"\r\n      className=\"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 z-50 group\"\r\n    >\r\n      <Plus className=\"h-6 w-6 group-hover:rotate-90 transition-transform duration-300\" />\r\n      <span className=\"sr-only\">Add new location</span>\r\n    </Button>\r\n  );\r\n}\r\n\r\n// Prominent call-to-action card\r\nexport function AddLocationCard() {\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <Card\r\n      className=\"border-2 border-dashed border-muted-foreground/25 hover:border-primary/50 transition-all duration-300 group cursor-pointer\"\r\n      onClick={() => router.push(\"/locations/new\")}\r\n    >\r\n      <CardContent className=\"flex flex-col items-center justify-center p-8 text-center space-y-4\">\r\n        <div className=\"relative\">\r\n          <div className=\"absolute inset-0 bg-primary/10 rounded-full blur-xl group-hover:blur-2xl transition-all duration-300\" />\r\n          <div className=\"relative bg-primary/10 p-4 rounded-full group-hover:bg-primary/20 transition-colors duration-300\">\r\n            <MapPin className=\"h-8 w-8 text-primary group-hover:scale-110 transition-transform duration-300\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <h3 className=\"text-xl font-semibold text-foreground group-hover:text-primary transition-colors duration-300\">\r\n            Add New Location\r\n          </h3>\r\n          <p className=\"text-sm text-muted-foreground max-w-sm\">\r\n            Save your favorite places and get weather updates for any location\r\n            around the world\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <Badge variant=\"secondary\" className=\"text-xs\">\r\n            <Sparkles className=\"w-3 h-3 mr-1\" />\r\n            Quick & Easy\r\n          </Badge>\r\n          <Badge variant=\"outline\" className=\"text-xs\">\r\n            <Navigation className=\"w-3 h-3 mr-1\" />\r\n            GPS Ready\r\n          </Badge>\r\n        </div>\r\n\r\n        <Button className=\"mt-4 group-hover:shadow-md transition-shadow duration-300\">\r\n          <Plus className=\"h-4 w-4 mr-2\" />\r\n          Add Location\r\n        </Button>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// Inline button for headers or toolbars\r\nexport function AddLocationButton({\r\n  variant = \"default\",\r\n  size = \"default\",\r\n  className = \"\",\r\n}: {\r\n  variant?: \"default\" | \"outline\" | \"secondary\" | \"ghost\";\r\n  size?: \"default\" | \"sm\" | \"lg\";\r\n  className?: string;\r\n}) {\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <Button\r\n      variant={variant}\r\n      size={size}\r\n      onClick={() => router.push(\"/locations/new\")}\r\n      className={`gap-2 ${className}`}\r\n    >\r\n      <Plus className=\"h-4 w-4\" />\r\n      Add Location\r\n    </Button>\r\n  );\r\n}\r\n\r\n// Hero-style banner component\r\nexport function AddLocationBanner() {\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <div className=\"relative overflow-hidden rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border\">\r\n      <div className=\"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))]\" />\r\n      <div className=\"relative p-6 sm:p-8\">\r\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"p-2 rounded-lg bg-primary/10\">\r\n                <MapPin className=\"h-5 w-5 text-primary\" />\r\n              </div>\r\n              <Badge variant=\"secondary\" className=\"text-xs\">\r\n                New Feature\r\n              </Badge>\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-foreground mb-2\">\r\n                Discover Weather Anywhere\r\n              </h2>\r\n              <p className=\"text-muted-foreground max-w-lg\">\r\n                Add your favorite locations and get instant weather updates.\r\n                Perfect for travel planning, family connections, or just staying\r\n                curious about the world.\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <Button\r\n            size=\"lg\"\r\n            onClick={() => router.push(\"/locations/new\")}\r\n            className=\"shrink-0 shadow-lg hover:shadow-xl transition-all duration-300 group\"\r\n          >\r\n            <Plus className=\"h-4 w-4 mr-2 group-hover:rotate-90 transition-transform duration-300\" />\r\n            Add New Location\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Usage Examples Component (for demonstration)\r\nexport function AddLocationExamples() {\r\n  return (\r\n    <div className=\"space-y-8 p-6\">\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold mb-4\">\r\n          1. Floating Action Button (FAB)\r\n        </h3>\r\n        <div className=\"relative h-32 bg-muted/20 rounded-lg border-2 border-dashed border-muted-foreground/25\">\r\n          <AddLocationFAB />\r\n          <p className=\"absolute inset-0 flex items-center justify-center text-sm text-muted-foreground\">\r\n            FAB appears in bottom-right corner\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold mb-4\">2. Call-to-Action Card</h3>\r\n        <AddLocationCard />\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold mb-4\">3. Inline Buttons</h3>\r\n        <div className=\"flex flex-wrap gap-3\">\r\n          <AddLocationButton />\r\n          <AddLocationButton variant=\"outline\" />\r\n          <AddLocationButton variant=\"secondary\" />\r\n          <AddLocationButton variant=\"ghost\" size=\"sm\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold mb-4\">4. Hero Banner</h3>\r\n        <AddLocationBanner />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1135, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/app/%28dashboard%29/dashboard/RainWarnings.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { AlertTriangle, CloudRain, Clock } from \"lucide-react\";\r\nimport { useNotifications } from \"@/providers/NotoficationsProvider\";\r\nimport { getForecastByCoords } from \"@/lib/weather\";\r\n\r\ninterface RainAlert {\r\n  time: string;\r\n  chance: number;\r\n  description: string;\r\n}\r\n\r\nexport function RainWarnings() {\r\n  const [rainAlerts, setRainAlerts] = useState<RainAlert[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const { addNotification } = useNotifications();\r\n\r\n  useEffect(() => {\r\n    // Fetch Iligan City by default (you can later connect user location)\r\n    const fetchRainForecast = async () => {\r\n      try {\r\n        const forecast = await getForecastByCoords(8.1713, 124.2152); // Iligan City\r\n        const alerts: RainAlert[] = [];\r\n\r\n        forecast.list.forEach((item: any) => {\r\n          if (item.pop && item.pop > 0.5) {\r\n            const time = new Date(item.dt * 1000).toLocaleTimeString(\"en-US\", {\r\n              hour: \"numeric\",\r\n              hour12: true,\r\n            });\r\n            const chance = Math.round(item.pop * 100);\r\n\r\n            alerts.push({\r\n              time,\r\n              chance,\r\n              description: item.weather[0].description,\r\n            });\r\n\r\n            // Also push a system notification\r\n            addNotification({\r\n              id: `rain-${item.dt}`,\r\n              title: \"üåßÔ∏è High Chance of Rain\",\r\n              message: `There's a ${chance}% chance of rain around ${time} (${item.weather[0].description}).`,\r\n              type: \"info\",\r\n              timestamp: new Date(),\r\n            });\r\n          }\r\n        });\r\n\r\n        setRainAlerts(alerts);\r\n      } catch (err) {\r\n        console.error(err);\r\n        setError(\"Failed to fetch rain warnings\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchRainForecast();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card className=\"my-4\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-base flex items-center gap-2\">\r\n            <CloudRain className=\"w-5 h-5 text-primary\" />\r\n            Rain Warnings\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <p className=\"text-sm text-muted-foreground\">Checking forecasts...</p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card className=\"my-4 border-red-300 bg-red-50 dark:bg-red-950/20\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-base flex items-center gap-2 text-red-600\">\r\n            <AlertTriangle className=\"w-5 h-5\" />\r\n            Rain Warnings\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <p className=\"text-sm\">{error}</p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (rainAlerts.length === 0) {\r\n    return (\r\n      <Card className=\"my-4\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-base flex items-center gap-2\">\r\n            <CloudRain className=\"w-5 h-5 text-primary\" />\r\n            Rain Warnings\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            No significant rain expected in the next 24 hours.\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className=\"my-4 border-blue-300 bg-blue-50 dark:bg-blue-950/20\">\r\n      <CardHeader>\r\n        <CardTitle className=\"text-base flex items-center gap-2 text-blue-700\">\r\n          <CloudRain className=\"w-5 h-5\" />\r\n          Rain Warnings ({rainAlerts.length})\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-3\">\r\n        {rainAlerts.map((alert, idx) => (\r\n          <div\r\n            key={idx}\r\n            className=\"flex items-center justify-between text-sm border-b pb-2 last:border-b-0\"\r\n          >\r\n            <div className=\"flex items-center gap-2\">\r\n              <Clock className=\"w-4 h-4 text-muted-foreground\" />\r\n              <span className=\"font-medium\">{alert.time}</span>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <span className=\"font-semibold text-blue-700\">\r\n                {alert.chance}%\r\n              </span>{\" \"}\r\n              <span className=\"text-muted-foreground\">{alert.description}</span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1449, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/app/%28dashboard%29/dashboard/Weather.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { SiteHeader } from \"@/components/site-header\";\r\nimport { getForecastByCoords } from \"@/lib/weather\";\r\nimport {\r\n  MapPin,\r\n  Navigation,\r\n  Droplets,\r\n  Wind,\r\n  Eye,\r\n  Gauge,\r\n  RefreshCw,\r\n  Sun,\r\n  Cloud,\r\n  CloudRain,\r\n  Snowflake,\r\n  AlertTriangle,\r\n  ShieldAlert,\r\n} from \"lucide-react\";\r\nimport { getUserLocations } from \"@/actions/locations.action\";\r\nimport { AddLocationFAB } from \"../locations/new/add-location\";\r\nimport { FullUserLocation } from \"@/lib/types\";\r\nimport Link from \"next/link\";\r\nimport { useNotifications } from \"@/providers/NotoficationsProvider\";\r\nimport { RainWarnings } from \"./RainWarnings\";\r\n\r\n/** Minimal warning type for props */\r\ntype AffectedWarning = {\r\n  zoneId: number;\r\n  zoneName: string;\r\n  zoneDescription?: string | null;\r\n  disasterType: string;\r\n  dangerLevel: string;\r\n  active: boolean;\r\n};\r\n\r\ninterface WeatherData {\r\n  city: {\r\n    name: string;\r\n    country: string;\r\n  };\r\n  list: Array<{\r\n    dt: number;\r\n    main: {\r\n      temp: number;\r\n      feels_like: number;\r\n      temp_min: number;\r\n      temp_max: number;\r\n      humidity: number;\r\n      pressure: number;\r\n    };\r\n    weather: Array<{\r\n      main: string;\r\n      description: string;\r\n      icon: string;\r\n    }>;\r\n    wind: {\r\n      speed: number;\r\n      deg: number;\r\n    };\r\n    visibility: number;\r\n    dt_txt: string;\r\n  }>;\r\n}\r\n\r\nconst getWeatherIcon = (weatherMain: string) => {\r\n  switch (weatherMain.toLowerCase()) {\r\n    case \"clear\":\r\n      return <Sun className=\"w-6 h-6 text-yellow-500\" />;\r\n    case \"clouds\":\r\n      return <Cloud className=\"w-6 h-6 text-gray-500\" />;\r\n    case \"rain\":\r\n    case \"drizzle\":\r\n      return <CloudRain className=\"w-6 h-6 text-blue-500\" />;\r\n    case \"snow\":\r\n      return <Snowflake className=\"w-6 h-6 text-blue-200\" />;\r\n    default:\r\n      return <Cloud className=\"w-6 h-6 text-gray-500\" />;\r\n  }\r\n};\r\n\r\nconst WeatherCard = ({\r\n  title,\r\n  lat,\r\n  lon,\r\n  useGeolocation = false,\r\n  icon,\r\n  warnings = [],\r\n}: {\r\n  title: string;\r\n  lat?: number;\r\n  lon?: number;\r\n  useGeolocation?: boolean;\r\n  icon: React.ReactNode;\r\n  warnings?: AffectedWarning[]; // new prop - warnings for this location\r\n}) => {\r\n  const [forecast, setForecast] = useState<WeatherData | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchForecast = async (latitude: number, longitude: number) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const data = await getForecastByCoords(latitude, longitude);\r\n      setForecast(data);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setError(\"Failed to fetch weather data\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRefresh = () => {\r\n    if (useGeolocation) {\r\n      getCurrentLocation();\r\n    } else if (lat && lon) {\r\n      fetchForecast(lat, lon);\r\n    }\r\n  };\r\n\r\n  const getCurrentLocation = () => {\r\n    if (!navigator.geolocation) {\r\n      setError(\"Geolocation not supported by your browser\");\r\n      setLoading(false);\r\n      // fallback to default Iligan City coordinates\r\n      fetchForecast(8.1713, 124.2152);\r\n      return;\r\n    }\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      (position) => {\r\n        fetchForecast(position.coords.latitude, position.coords.longitude);\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        setError(\"Could not get your location. Using default location.\");\r\n        // fallback to default Iligan City coordinates\r\n        fetchForecast(8.1713, 124.2152);\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (useGeolocation) {\r\n      getCurrentLocation();\r\n    } else if (lat && lon) {\r\n      fetchForecast(lat, lon);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [lat, lon, useGeolocation]);\r\n\r\n  // Determine active warnings (only those with active === true)\r\n  const activeWarnings = warnings.filter((w) => w.active);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card>\r\n        <CardHeader className=\"pb-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              {icon}\r\n              <CardTitle className=\"text-lg\">{title}</CardTitle>\r\n            </div>\r\n            <RefreshCw className=\"w-4 h-4 animate-spin text-muted-foreground\" />\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"flex items-center justify-center h-32\">\r\n            <p className=\"text-muted-foreground\">Loading weather data...</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card>\r\n        <CardHeader className=\"pb-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              {icon}\r\n              <CardTitle className=\"text-lg\">{title}</CardTitle>\r\n            </div>\r\n            <Button variant=\"ghost\" size=\"sm\" onClick={handleRefresh}>\r\n              <RefreshCw className=\"w-4 h-4\" />\r\n            </Button>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <p>{error}</p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (!forecast) return null;\r\n\r\n  const currentWeather = forecast.list[0];\r\n  const todayForecasts = forecast.list.slice(1, 5);\r\n\r\n  return (\r\n    <Card>\r\n      {/* If there are active warnings, show a red banner at top of card */}\r\n      {activeWarnings.length > 0 && (\r\n        <div className=\"bg-red-50 border border-red-200 dark:bg-red-950/20 dark:border-red-800 p-3 rounded-t\">\r\n          <div className=\"flex items-start gap-3\">\r\n            <AlertTriangle className=\"w-5 h-5 text-red-600 mt-0.5\" />\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <div className=\"text-sm font-semibold text-red-700\">\r\n                    {activeWarnings.length === 1\r\n                      ? `Warning: ${activeWarnings[0].zoneName}`\r\n                      : `${activeWarnings.length} active warnings`}\r\n                  </div>\r\n                  <div className=\"text-xs text-muted-foreground mt-1\">\r\n                    {activeWarnings[0]?.zoneDescription ??\r\n                      \"Please review the warnings for this area.\"}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"text-xs uppercase text-red-700 font-medium tracking-wide\">\r\n                    {activeWarnings[0].dangerLevel}\r\n                  </div>\r\n                  <Button size=\"sm\" variant=\"destructive\">\r\n                    <Link href=\"/map\">View on Map</Link>\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* If multiple warnings, show a small list */}\r\n              {activeWarnings.length > 1 && (\r\n                <ul className=\"mt-2 text-xs text-muted-foreground space-y-1\">\r\n                  {activeWarnings.map((w) => (\r\n                    <li key={w.zoneId} className=\"flex items-center gap-2\">\r\n                      <ShieldAlert className=\"w-3 h-3\" />\r\n                      <span>\r\n                        {w.zoneName} ‚Äî {w.dangerLevel}\r\n                      </span>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <CardHeader className={`pb-3 ${activeWarnings.length > 0 ? \"pt-4\" : \"\"}`}>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2\">\r\n            {icon}\r\n            <CardTitle className=\"text-lg\">{title}</CardTitle>\r\n          </div>\r\n          <Button variant=\"ghost\" size=\"sm\" onClick={handleRefresh}>\r\n            <RefreshCw className=\"w-4 h-4\" />\r\n          </Button>\r\n        </div>\r\n        <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\r\n          <MapPin className=\"w-3 h-3\" />\r\n          <span>\r\n            {forecast.city.name}, {forecast.city.country}\r\n          </span>\r\n        </div>\r\n      </CardHeader>\r\n\r\n      <CardContent className=\"space-y-6\">\r\n        {/* Current Weather */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-4\">\r\n            {getWeatherIcon(currentWeather.weather[0].main)}\r\n            <div>\r\n              <div className=\"text-3xl font-bold\">\r\n                {Math.round(currentWeather.main.temp)}¬∞C\r\n              </div>\r\n              <p className=\"text-sm text-muted-foreground capitalize\">\r\n                {currentWeather.weather[0].description}\r\n              </p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Feels like {Math.round(currentWeather.main.feels_like)}¬∞C\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-right text-sm text-muted-foreground\">\r\n            <p>H: {Math.round(currentWeather.main.temp_max)}¬∞</p>\r\n            <p>L: {Math.round(currentWeather.main.temp_min)}¬∞</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Weather Details */}\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div className=\"flex items-center gap-2 text-sm\">\r\n            <Droplets className=\"w-4 h-4\" />\r\n            <span className=\"text-muted-foreground\">Humidity</span>\r\n            <span className=\"ml-auto font-medium\">\r\n              {currentWeather.main.humidity}%\r\n            </span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2 text-sm\">\r\n            <Wind className=\"w-4 h-4\" />\r\n            <span className=\"text-muted-foreground\">Wind</span>\r\n            <span className=\"ml-auto font-medium\">\r\n              {currentWeather.wind.speed} m/s\r\n            </span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2 text-sm\">\r\n            <Gauge className=\"w-4 h-4\" />\r\n            <span className=\"text-muted-foreground\">Pressure</span>\r\n            <span className=\"ml-auto font-medium\">\r\n              {currentWeather.main.pressure} hPa\r\n            </span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2 text-sm\">\r\n            <Eye className=\"w-4 h-4\" />\r\n            <span className=\"text-muted-foreground\">Visibility</span>\r\n            <span className=\"ml-auto font-medium\">\r\n              {(currentWeather.visibility / 1000).toFixed(1)} km\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Hourly Forecast */}\r\n        <div>\r\n          <h4 className=\"font-medium mb-3 text-sm text-muted-foreground\">\r\n            Next 12 Hours\r\n          </h4>\r\n          <div className=\"grid grid-cols-4 gap-3\">\r\n            {todayForecasts.map((item, idx) => (\r\n              <div\r\n                key={idx}\r\n                className=\"text-center p-3 rounded-lg border bg-muted/50\"\r\n              >\r\n                <p className=\"text-xs text-muted-foreground mb-2\">\r\n                  {new Date(item.dt * 1000).toLocaleTimeString(\"en-US\", {\r\n                    hour: \"numeric\",\r\n                    hour12: true,\r\n                  })}\r\n                </p>\r\n                <div className=\"flex justify-center mb-2\">\r\n                  {getWeatherIcon(item.weather[0].main)}\r\n                </div>\r\n                <p className=\"text-sm font-medium\">\r\n                  {Math.round(item.main.temp)}¬∞C\r\n                </p>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">\r\n                  {item.main.humidity}%\r\n                </p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default function WeatherDashboard({ userId }: { userId: number }) {\r\n  const [locations, setLocations] = useState<FullUserLocation[]>([]);\r\n  const { addNotification, clearNotifications } = useNotifications();\r\n\r\n  useEffect(() => {\r\n    const fetchUserLocations = async () => {\r\n      clearNotifications(); // clear old ones\r\n      const data = await getUserLocations(userId);\r\n      setLocations(data);\r\n\r\n      // check for active zones\r\n      data.forEach((loc) => {\r\n        loc.affectedUserLocations.forEach((aff) => {\r\n          if (aff.zone.status === \"ACTIVE\") {\r\n            addNotification({\r\n              id: `${aff.zone.id}-${loc.id}`,\r\n              title: `‚ö†Ô∏è ${aff.zone.disasterType} Alert`,\r\n              message: `${\r\n                loc.name\r\n              } is within an active ${aff.zone.disasterType.toLowerCase()} zone (${\r\n                aff.zone.dangerLevel\r\n              })`,\r\n              type: \"danger\",\r\n              timestamp: new Date(),\r\n            });\r\n          }\r\n        });\r\n      });\r\n    };\r\n\r\n    fetchUserLocations();\r\n  }, [userId]);\r\n\r\n  // convert affectedUserLocations to AffectedWarning for each location\r\n  const toWarnings = (loc: FullUserLocation): AffectedWarning[] => {\r\n    return (loc.affectedUserLocations ?? []).map((a) => ({\r\n      zoneId: a.zone.id,\r\n      zoneName: a.zone.name,\r\n      zoneDescription: a.zone.description,\r\n      disasterType: a.zone.disasterType,\r\n      dangerLevel: a.zone.dangerLevel,\r\n      active: a.zone.status === \"ACTIVE\" || a.zone.status === \"RESOLVED\", // be tolerant\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-background\">\r\n      <SiteHeader title=\"Dashboard\" />\r\n\r\n      <div className=\"container mx-auto p-6 space-y-6\">\r\n        <div className=\"grid gap-6 md:grid-cols-1 lg:grid-cols-2\">\r\n          <WeatherCard\r\n            title=\"My Location\"\r\n            useGeolocation\r\n            icon={<Navigation className=\"w-5 h-5 text-primary\" />}\r\n            warnings={[]} // geolocation card: no server warnings unless you compute them\r\n          />\r\n\r\n          <WeatherCard\r\n            title=\"Tubod, Iligan City\"\r\n            lat={8.1713}\r\n            lon={124.2152}\r\n            icon={<MapPin className=\"w-5 h-5 text-primary\" />}\r\n            warnings={[]}\r\n          />\r\n\r\n          {locations.map((loc) => (\r\n            <WeatherCard\r\n              key={loc.id}\r\n              title={loc.name}\r\n              lat={loc.latitude}\r\n              lon={loc.longitude}\r\n              icon={<MapPin className=\"w-5 h-5 text-primary\" />}\r\n              warnings={toWarnings(loc)}\r\n            />\r\n          ))}\r\n        </div>\r\n\r\n        <AddLocationFAB />\r\n      </div>\r\n      <section className=\"p-4\">\r\n        <RainWarnings />\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}