{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\nconst prismaClientSingleton = () => {\r\n  return new PrismaClient();\r\n};\r\n\r\ndeclare const globalThis: {\r\n  prismaGlobal: ReturnType<typeof prismaClientSingleton>;\r\n} & typeof global;\r\n\r\nconst prisma = globalThis.prismaGlobal ?? prismaClientSingleton();\r\n\r\nexport default prisma;\r\n\r\nif (process.env.NODE_ENV !== \"production\") globalThis.prismaGlobal = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,wBAAwB;IAC5B,OAAO,IAAI,6IAAY;AACzB;AAMA,MAAM,SAAS,WAAW,YAAY,IAAI;uCAE3B;AAEf,wCAA2C,WAAW,YAAY,GAAG","debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/auth.ts"],"sourcesContent":["import NextAuth from \"next-auth\";\r\nimport Credentials from \"next-auth/providers/credentials\";\r\nimport prisma from \"./lib/prisma\";\r\n\r\nexport const { handlers, signIn, signOut, auth } = NextAuth({\r\n  trustHost: true,\r\n  providers: [\r\n    Credentials({\r\n      credentials: {\r\n        email: {},\r\n        password: {},\r\n      },\r\n      authorize: async (credentials) => {\r\n        if (!credentials?.email || !credentials?.password) return null;\r\n\r\n        const user = await prisma.user.findUnique({\r\n          where: { email: credentials.email as string },\r\n        });\r\n        if (!user || user.password !== credentials.password) return null;\r\n\r\n        return {\r\n          id: user.id,\r\n          email: user.email,\r\n          role: user.role,\r\n          firstName: user.firstName,\r\n          lastName: user.lastName,\r\n        };\r\n      },\r\n    }),\r\n  ],\r\n  pages: {\r\n    signIn: \"/login\",\r\n  },\r\n  callbacks: {\r\n    async jwt({ token, user }) {\r\n      if (user) {\r\n        token.id = Number(user.id);\r\n        token.email = user.email;\r\n        token.role = user.role;\r\n        token.firstName = user.firstName;\r\n        token.lastName = user.lastName;\r\n      }\r\n      return token;\r\n    },\r\n    async session({ session, token }) {\r\n      session.user.id = Number(token.id) as never;\r\n      session.user.email = token.email as string;\r\n      session.user.role = token.role as string;\r\n      session.user.firstName = token.firstName as string;\r\n      session.user.lastName = token.lastName as string;\r\n      return session;\r\n    },\r\n  },\r\n});\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AAAA;AACA;;;;AAEO,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,IAAA,gKAAQ,EAAC;IAC1D,WAAW;IACX,WAAW;QACT,IAAA,qKAAW,EAAC;YACV,aAAa;gBACX,OAAO,CAAC;gBACR,UAAU,CAAC;YACb;YACA,WAAW,OAAO;gBAChB,IAAI,CAAC,aAAa,SAAS,CAAC,aAAa,UAAU,OAAO;gBAE1D,MAAM,OAAO,MAAM,wHAAM,CAAC,IAAI,CAAC,UAAU,CAAC;oBACxC,OAAO;wBAAE,OAAO,YAAY,KAAK;oBAAW;gBAC9C;gBACA,IAAI,CAAC,QAAQ,KAAK,QAAQ,KAAK,YAAY,QAAQ,EAAE,OAAO;gBAE5D,OAAO;oBACL,IAAI,KAAK,EAAE;oBACX,OAAO,KAAK,KAAK;oBACjB,MAAM,KAAK,IAAI;oBACf,WAAW,KAAK,SAAS;oBACzB,UAAU,KAAK,QAAQ;gBACzB;YACF;QACF;KACD;IACD,OAAO;QACL,QAAQ;IACV;IACA,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,EAAE,GAAG,OAAO,KAAK,EAAE;gBACzB,MAAM,KAAK,GAAG,KAAK,KAAK;gBACxB,MAAM,IAAI,GAAG,KAAK,IAAI;gBACtB,MAAM,SAAS,GAAG,KAAK,SAAS;gBAChC,MAAM,QAAQ,GAAG,KAAK,QAAQ;YAChC;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,QAAQ,IAAI,CAAC,EAAE,GAAG,OAAO,MAAM,EAAE;YACjC,QAAQ,IAAI,CAAC,KAAK,GAAG,MAAM,KAAK;YAChC,QAAQ,IAAI,CAAC,IAAI,GAAG,MAAM,IAAI;YAC9B,QAAQ,IAAI,CAAC,SAAS,GAAG,MAAM,SAAS;YACxC,QAAQ,IAAI,CAAC,QAAQ,GAAG,MAAM,QAAQ;YACtC,OAAO;QACT;IACF;AACF","debugId":null}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///D:/GIS/geotech/app/%28auth%29/layout.tsx"],"sourcesContent":["import { auth } from \"@/auth\";\r\nimport { redirect } from \"next/navigation\";\r\n\r\nexport default async function AuthLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const session = await auth();\r\n\r\n  if (session) {\r\n    redirect(\"/dashboard\");\r\n  }\r\n\r\n  return <main>{children}</main>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;;;;AAEe,eAAe,WAAW,EACvC,QAAQ,EAGT;IACC,MAAM,UAAU,MAAM,IAAA,4GAAI;IAE1B,IAAI,SAAS;QACX,IAAA,iMAAQ,EAAC;IACX;IAEA,qBAAO,8OAAC;kBAAM;;;;;;AAChB","debugId":null}}]
}